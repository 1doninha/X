const _0x3151d5=_0x1e2d;(function(_0x494512,_0x5b445c){const _0x4be07f=_0x1e2d,_0x27105d=_0x494512();while(!![]){try{const _0x202bac=parseInt(_0x4be07f(0x135))/0x1*(parseInt(_0x4be07f(0x125))/0x2)+-parseInt(_0x4be07f(0x142))/0x3+-parseInt(_0x4be07f(0x131))/0x4*(parseInt(_0x4be07f(0x137))/0x5)+parseInt(_0x4be07f(0x12c))/0x6*(-parseInt(_0x4be07f(0x127))/0x7)+-parseInt(_0x4be07f(0x11b))/0x8*(parseInt(_0x4be07f(0x141))/0x9)+parseInt(_0x4be07f(0x134))/0xa*(parseInt(_0x4be07f(0x13e))/0xb)+-parseInt(_0x4be07f(0x11c))/0xc*(-parseInt(_0x4be07f(0x11a))/0xd);if(_0x202bac===_0x5b445c)break;else _0x27105d['push'](_0x27105d['shift']());}catch(_0x728925){_0x27105d['push'](_0x27105d['shift']());}}}(_0x6ed3,0x1d6cc));function _0x1e2d(_0x43a515,_0x598ef5){const _0x6ed374=_0x6ed3();return _0x1e2d=function(_0x1e2d1a,_0x28f393){_0x1e2d1a=_0x1e2d1a-0x111;let _0x1f4b00=_0x6ed374[_0x1e2d1a];return _0x1f4b00;},_0x1e2d(_0x43a515,_0x598ef5);}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(_0x3151d5(0x12f)),webp=require(_0x3151d5(0x122)),path=require('path');function _0x6ed3(){const _0x53cc8c=['scale=220:220,fps=12,pad=0:0:-1:-1:color=white@0.0,split[a][b];[a]palettegen=reserve_transparent=on:transparency_color=ffffff[p];[b][p]paletteuse','libwebp','.mp4','readFileSync','exif','join','addOutputOptions','Image','concat','39WrquKK','4184uuETvO','779604SQnYLS','exports','readUIntLE','save','mimetype','toString','node-webpmux','categories','-vcodec','357386HZxvQF','-vf','14609LGEgiK','writeFileSync','from','.webp','load','228HBUmss','error','unlinkSync','fluent-ffmpeg','packname','4qledtQ','end','length','80KuJhTa','1JwdTPS','webp','871905MBYXZx','randomBytes','toFormat','writeUIntLE','data','.jpg','stringify','319957DMFaaB','BOT\x20GUGU\x20MD','utf-8','1341nUCVhz','462456ZlfttL','test','author'];_0x6ed3=function(){return _0x53cc8c;};return _0x6ed3();}async function imageToWebp2(_0xe2a7a0){const _0x4f1e5d=_0x3151d5,_0x17cd75=path[_0x4f1e5d(0x116)](tmpdir(),Crypto[_0x4f1e5d(0x138)](0x6)['readUIntLE'](0x0,0x6)[_0x4f1e5d(0x121)](0x24)+_0x4f1e5d(0x12a)),_0x4abf94=path[_0x4f1e5d(0x116)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x4f1e5d(0x121)](0x24)+_0x4f1e5d(0x13c));fs['writeFileSync'](_0x4abf94,_0xe2a7a0),await new Promise((_0x16f705,_0x45c3a6)=>{const _0x4c2f6e=_0x4f1e5d;ff(_0x4abf94)['on']('error',_0x45c3a6)['on']('end',()=>_0x16f705(!![]))['addOutputOptions'](['-vcodec','libwebp',_0x4c2f6e(0x126),'scale=\x27min(9999999,iw)\x27:min\x27(9999999,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=0:0:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse'])[_0x4c2f6e(0x139)](_0x4c2f6e(0x136))[_0x4c2f6e(0x11f)](_0x17cd75);});const _0x56002f=fs[_0x4f1e5d(0x114)](_0x17cd75);return fs[_0x4f1e5d(0x12e)](_0x17cd75),fs[_0x4f1e5d(0x12e)](_0x4abf94),_0x56002f;}async function videoToWebp2(_0x2db546){const _0x5ca2be=_0x3151d5,_0x123fd0=path[_0x5ca2be(0x116)](tmpdir(),Crypto['randomBytes'](0x6)[_0x5ca2be(0x11e)](0x0,0x6)[_0x5ca2be(0x121)](0x24)+_0x5ca2be(0x12a)),_0x3f9029=path[_0x5ca2be(0x116)](tmpdir(),Crypto[_0x5ca2be(0x138)](0x6)[_0x5ca2be(0x11e)](0x0,0x6)[_0x5ca2be(0x121)](0x24)+_0x5ca2be(0x113));fs[_0x5ca2be(0x128)](_0x3f9029,_0x2db546),await new Promise((_0x2e1e39,_0x51ff51)=>{const _0x4b2a99=_0x5ca2be;ff(_0x3f9029)['on'](_0x4b2a99(0x12d),_0x51ff51)['on'](_0x4b2a99(0x132),()=>_0x2e1e39(!![]))[_0x4b2a99(0x117)]([_0x4b2a99(0x124),_0x4b2a99(0x112),_0x4b2a99(0x126),_0x4b2a99(0x111)])['toFormat'](_0x4b2a99(0x136))[_0x4b2a99(0x11f)](_0x123fd0);});const _0x1efa19=fs['readFileSync'](_0x123fd0);return fs['unlinkSync'](_0x123fd0),fs[_0x5ca2be(0x12e)](_0x3f9029),_0x1efa19;}async function writeExifImg2(_0xac0d5c,_0x57e035){const _0x5d3c79=_0x3151d5;let _0x259705=await imageToWebp2(_0xac0d5c);const _0x60bc4b=path[_0x5d3c79(0x116)](tmpdir(),Crypto[_0x5d3c79(0x138)](0x6)[_0x5d3c79(0x11e)](0x0,0x6)[_0x5d3c79(0x121)](0x24)+'.webp'),_0x4be5b7=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x5d3c79(0x11e)](0x0,0x6)[_0x5d3c79(0x121)](0x24)+'.webp');fs['writeFileSync'](_0x60bc4b,_0x259705);if(_0x57e035[_0x5d3c79(0x130)]||_0x57e035['author']){const _0x555fed=new webp['Image'](),_0x4cb082={'sticker-pack-id':_0x5d3c79(0x13f),'sticker-pack-name':_0x57e035[_0x5d3c79(0x130)],'sticker-pack-publisher':_0x57e035[_0x5d3c79(0x144)],'emojis':_0x57e035[_0x5d3c79(0x123)]?_0x57e035[_0x5d3c79(0x123)]:['']},_0x3d4103=Buffer[_0x5d3c79(0x129)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x6141c5=Buffer[_0x5d3c79(0x129)](JSON[_0x5d3c79(0x13d)](_0x4cb082),_0x5d3c79(0x140)),_0xeca3fe=Buffer['concat']([_0x3d4103,_0x6141c5]);return _0xeca3fe['writeUIntLE'](_0x6141c5[_0x5d3c79(0x133)],0xe,0x4),await _0x555fed[_0x5d3c79(0x12b)](_0x60bc4b),fs[_0x5d3c79(0x12e)](_0x60bc4b),_0x555fed[_0x5d3c79(0x115)]=_0xeca3fe,await _0x555fed[_0x5d3c79(0x11f)](_0x4be5b7),_0x4be5b7;}}async function writeExifVid2(_0x56be1b,_0x505181){const _0x3b39ea=_0x3151d5;let _0x3da6b8=await videoToWebp2(_0x56be1b);const _0x38a338=path['join'](tmpdir(),Crypto[_0x3b39ea(0x138)](0x6)[_0x3b39ea(0x11e)](0x0,0x6)[_0x3b39ea(0x121)](0x24)+_0x3b39ea(0x12a)),_0x2d775f=path[_0x3b39ea(0x116)](tmpdir(),Crypto[_0x3b39ea(0x138)](0x6)[_0x3b39ea(0x11e)](0x0,0x6)[_0x3b39ea(0x121)](0x24)+_0x3b39ea(0x12a));fs[_0x3b39ea(0x128)](_0x38a338,_0x3da6b8);if(_0x505181[_0x3b39ea(0x130)]||_0x505181['author']){const _0x169d46=new webp['Image'](),_0x47f006={'sticker-pack-id':'BOT\x20GUGU\x20MD','sticker-pack-name':_0x505181['packname'],'sticker-pack-publisher':_0x505181[_0x3b39ea(0x144)],'emojis':_0x505181[_0x3b39ea(0x123)]?_0x505181[_0x3b39ea(0x123)]:['']},_0x2fc756=Buffer[_0x3b39ea(0x129)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x30dec9=Buffer[_0x3b39ea(0x129)](JSON[_0x3b39ea(0x13d)](_0x47f006),_0x3b39ea(0x140)),_0x485c53=Buffer[_0x3b39ea(0x119)]([_0x2fc756,_0x30dec9]);return _0x485c53['writeUIntLE'](_0x30dec9[_0x3b39ea(0x133)],0xe,0x4),await _0x169d46[_0x3b39ea(0x12b)](_0x38a338),fs[_0x3b39ea(0x12e)](_0x38a338),_0x169d46[_0x3b39ea(0x115)]=_0x485c53,await _0x169d46['save'](_0x2d775f),_0x2d775f;}}async function writeExif2(_0x32b18b,_0x1148b6){const _0x261056=_0x3151d5;let _0x419fec=/webp/[_0x261056(0x143)](_0x32b18b[_0x261056(0x120)])?_0x32b18b['data']:/image/[_0x261056(0x143)](_0x32b18b[_0x261056(0x120)])?await imageToWebp2(_0x32b18b[_0x261056(0x13b)]):/video/['test'](_0x32b18b[_0x261056(0x120)])?await videoToWebp2(_0x32b18b[_0x261056(0x13b)]):'';const _0x202b2c=path['join'](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x261056(0x121)](0x24)+_0x261056(0x12a)),_0x1ca83b=path['join'](tmpdir(),Crypto[_0x261056(0x138)](0x6)[_0x261056(0x11e)](0x0,0x6)[_0x261056(0x121)](0x24)+'.webp');fs[_0x261056(0x128)](_0x202b2c,_0x419fec);if(_0x1148b6['packname']||_0x1148b6[_0x261056(0x144)]){const _0x11bba7=new webp[(_0x261056(0x118))](),_0x47ce5a={'sticker-pack-id':_0x261056(0x13f),'sticker-pack-name':_0x1148b6['packname'],'sticker-pack-publisher':_0x1148b6[_0x261056(0x144)],'emojis':_0x1148b6[_0x261056(0x123)]?_0x1148b6[_0x261056(0x123)]:['']},_0x585516=Buffer[_0x261056(0x129)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x6ef1e9=Buffer[_0x261056(0x129)](JSON['stringify'](_0x47ce5a),_0x261056(0x140)),_0x29d78c=Buffer[_0x261056(0x119)]([_0x585516,_0x6ef1e9]);return _0x29d78c[_0x261056(0x13a)](_0x6ef1e9[_0x261056(0x133)],0xe,0x4),await _0x11bba7['load'](_0x202b2c),fs[_0x261056(0x12e)](_0x202b2c),_0x11bba7[_0x261056(0x115)]=_0x29d78c,await _0x11bba7[_0x261056(0x11f)](_0x1ca83b),_0x1ca83b;}}module[_0x3151d5(0x11d)]={'imageToWebp2':imageToWebp2,'videoToWebp2':videoToWebp2,'writeExifImg2':writeExifImg2,'writeExifVid2':writeExifVid2,'writeExif2':writeExif2};