const _0x8e6d0a=_0x5914;(function(_0x3b8bb6,_0x1ce5b6){const _0xa7b856=_0x5914,_0x34684c=_0x3b8bb6();while(!![]){try{const _0x58895d=-parseInt(_0xa7b856(0xb6))/0x1+parseInt(_0xa7b856(0xbe))/0x2*(parseInt(_0xa7b856(0xb7))/0x3)+parseInt(_0xa7b856(0xae))/0x4+-parseInt(_0xa7b856(0x96))/0x5*(parseInt(_0xa7b856(0xb8))/0x6)+parseInt(_0xa7b856(0xb9))/0x7*(-parseInt(_0xa7b856(0xa1))/0x8)+-parseInt(_0xa7b856(0xbb))/0x9+parseInt(_0xa7b856(0xbf))/0xa;if(_0x58895d===_0x1ce5b6)break;else _0x34684c['push'](_0x34684c['shift']());}catch(_0x1b6980){_0x34684c['push'](_0x34684c['shift']());}}}(_0x19eb,0x27c0e));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x8e6d0a(0xa9)),ff=require(_0x8e6d0a(0xa8)),webp=require(_0x8e6d0a(0x9e)),path=require('path');async function imageToWebp(_0x18353d){const _0x28e9f4=_0x8e6d0a,_0x338cbb=path[_0x28e9f4(0x9a)](tmpdir(),Crypto[_0x28e9f4(0xbc)](0x6)[_0x28e9f4(0xa0)](0x0,0x6)[_0x28e9f4(0xc0)](0x24)+_0x28e9f4(0xa6)),_0x393854=path['join'](tmpdir(),Crypto[_0x28e9f4(0xbc)](0x6)[_0x28e9f4(0xa0)](0x0,0x6)['toString'](0x24)+_0x28e9f4(0xc6));fs[_0x28e9f4(0x9d)](_0x393854,_0x18353d),await new Promise((_0x456642,_0x29fb55)=>{const _0x587995=_0x28e9f4;ff(_0x393854)['on']('error',_0x29fb55)['on'](_0x587995(0xc1),()=>_0x456642(!![]))[_0x587995(0xa3)]([_0x587995(0x9b),_0x587995(0xb2),'-vf',_0x587995(0x95)])[_0x587995(0xba)](_0x587995(0x9f))['save'](_0x338cbb);});const _0x5e4d2b=fs['readFileSync'](_0x338cbb);return fs['unlinkSync'](_0x338cbb),fs['unlinkSync'](_0x393854),_0x5e4d2b;}function _0x5914(_0x389e4f,_0x46264c){const _0x19eb4c=_0x19eb();return _0x5914=function(_0x591401,_0x108ccf){_0x591401=_0x591401-0x93;let _0x454648=_0x19eb4c[_0x591401];return _0x454648;},_0x5914(_0x389e4f,_0x46264c);}async function videoToWebp(_0x3595d2){const _0xd1373a=_0x8e6d0a,_0x331462=path[_0xd1373a(0x9a)](tmpdir(),Crypto[_0xd1373a(0xbc)](0x6)[_0xd1373a(0xa0)](0x0,0x6)['toString'](0x24)+_0xd1373a(0xa6)),_0x4fce93=path[_0xd1373a(0x9a)](tmpdir(),Crypto[_0xd1373a(0xbc)](0x6)[_0xd1373a(0xa0)](0x0,0x6)[_0xd1373a(0xc0)](0x24)+_0xd1373a(0xbd));fs[_0xd1373a(0x9d)](_0x4fce93,_0x3595d2),await new Promise((_0x2bacaf,_0x41559f)=>{const _0x499b71=_0xd1373a;ff(_0x4fce93)['on'](_0x499b71(0xaa),_0x41559f)['on'](_0x499b71(0xc1),()=>_0x2bacaf(!![]))[_0x499b71(0xa3)](['-vcodec',_0x499b71(0xb2),_0x499b71(0x94),_0x499b71(0xc4),_0x499b71(0xc9),'0',_0x499b71(0x99),'00:00:00','-t',_0x499b71(0xa2),_0x499b71(0xad),_0x499b71(0xa5),_0x499b71(0xab),'-vsync','0'])[_0x499b71(0xba)](_0x499b71(0x9f))[_0x499b71(0xa4)](_0x331462);});const _0x38f8d8=fs['readFileSync'](_0x331462);return fs[_0xd1373a(0xc7)](_0x331462),fs[_0xd1373a(0xc7)](_0x4fce93),_0x38f8d8;}async function writeExifImg(_0x26503a,_0x554b54){const _0x5c3c7a=_0x8e6d0a;let _0x209988=await imageToWebp(_0x26503a);const _0x5851d8=path['join'](tmpdir(),Crypto[_0x5c3c7a(0xbc)](0x6)[_0x5c3c7a(0xa0)](0x0,0x6)[_0x5c3c7a(0xc0)](0x24)+'.webp'),_0x477ecc=path['join'](tmpdir(),Crypto[_0x5c3c7a(0xbc)](0x6)[_0x5c3c7a(0xa0)](0x0,0x6)[_0x5c3c7a(0xc0)](0x24)+'.webp');fs['writeFileSync'](_0x5851d8,_0x209988);if(_0x554b54[_0x5c3c7a(0xc5)]||_0x554b54[_0x5c3c7a(0xb1)]){const _0x2dee9f=new webp['Image'](),_0x5f5045={'sticker-pack-id':'BOT\x20GUGU\x20MD','sticker-pack-name':_0x554b54[_0x5c3c7a(0xc5)],'sticker-pack-publisher':_0x554b54[_0x5c3c7a(0xb1)],'emojis':_0x554b54[_0x5c3c7a(0x97)]?_0x554b54[_0x5c3c7a(0x97)]:['']},_0x5d745e=Buffer[_0x5c3c7a(0xb4)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1a6891=Buffer['from'](JSON[_0x5c3c7a(0xaf)](_0x5f5045),'utf-8'),_0x563325=Buffer[_0x5c3c7a(0xa7)]([_0x5d745e,_0x1a6891]);return _0x563325[_0x5c3c7a(0xc8)](_0x1a6891['length'],0xe,0x4),await _0x2dee9f['load'](_0x5851d8),fs[_0x5c3c7a(0xc7)](_0x5851d8),_0x2dee9f[_0x5c3c7a(0xb5)]=_0x563325,await _0x2dee9f[_0x5c3c7a(0xa4)](_0x477ecc),_0x477ecc;}}function _0x19eb(){const _0x2528ad=['writeFileSync','node-webpmux','webp','readUIntLE','67864kwFFRZ','00:00:10.0','addOutputOptions','save','default','.webp','concat','fluent-ffmpeg','crypto','error','-an','load','-preset','82888csYNbX','stringify','data','author','libwebp','test','from','exif','324069zvGGYM','777930xNqDWm','594QTOCTL','161BFZYkM','toFormat','2577222iNNtBc','randomBytes','.mp4','2GHzoON','8646530CshnQF','toString','end','exports','length','scale=\x27min(200,iw)\x27:min\x27(200,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=200:200:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','packname','.jpg','unlinkSync','writeUIntLE','-loop','utf-8','-vf','scale=\x27min(1000,iw)\x27:min\x27(1000,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=1000:1000:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','8905DmJmyc','categories','Image','-ss','join','-vcodec','mimetype'];_0x19eb=function(){return _0x2528ad;};return _0x19eb();}async function writeExifVid(_0x76708e,_0x41ccd6){const _0x2fbf69=_0x8e6d0a;let _0x160274=await videoToWebp(_0x76708e);const _0xde4b25=path['join'](tmpdir(),Crypto[_0x2fbf69(0xbc)](0x6)[_0x2fbf69(0xa0)](0x0,0x6)['toString'](0x24)+_0x2fbf69(0xa6)),_0x460d16=path['join'](tmpdir(),Crypto[_0x2fbf69(0xbc)](0x6)['readUIntLE'](0x0,0x6)[_0x2fbf69(0xc0)](0x24)+_0x2fbf69(0xa6));fs[_0x2fbf69(0x9d)](_0xde4b25,_0x160274);if(_0x41ccd6[_0x2fbf69(0xc5)]||_0x41ccd6[_0x2fbf69(0xb1)]){const _0x1920e7=new webp[(_0x2fbf69(0x98))](),_0x2ae8d9={'sticker-pack-id':'BOT\x20GUGU\x20MD','sticker-pack-name':_0x41ccd6[_0x2fbf69(0xc5)],'sticker-pack-publisher':_0x41ccd6['author'],'emojis':_0x41ccd6[_0x2fbf69(0x97)]?_0x41ccd6[_0x2fbf69(0x97)]:['']},_0x36fff2=Buffer[_0x2fbf69(0xb4)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5361f9=Buffer[_0x2fbf69(0xb4)](JSON[_0x2fbf69(0xaf)](_0x2ae8d9),'utf-8'),_0x78d118=Buffer['concat']([_0x36fff2,_0x5361f9]);return _0x78d118[_0x2fbf69(0xc8)](_0x5361f9[_0x2fbf69(0xc3)],0xe,0x4),await _0x1920e7[_0x2fbf69(0xac)](_0xde4b25),fs['unlinkSync'](_0xde4b25),_0x1920e7['exif']=_0x78d118,await _0x1920e7[_0x2fbf69(0xa4)](_0x460d16),_0x460d16;}}async function writeExif(_0xeb9da5,_0x5cdad7){const _0x528a49=_0x8e6d0a;let _0x476caf=/webp/[_0x528a49(0xb3)](_0xeb9da5[_0x528a49(0x9c)])?_0xeb9da5[_0x528a49(0xb0)]:/image/[_0x528a49(0xb3)](_0xeb9da5[_0x528a49(0x9c)])?await imageToWebp(_0xeb9da5['data']):/video/[_0x528a49(0xb3)](_0xeb9da5[_0x528a49(0x9c)])?await videoToWebp(_0xeb9da5['data']):'';const _0x41b18c=path[_0x528a49(0x9a)](tmpdir(),Crypto[_0x528a49(0xbc)](0x6)[_0x528a49(0xa0)](0x0,0x6)[_0x528a49(0xc0)](0x24)+_0x528a49(0xa6)),_0x26e109=path[_0x528a49(0x9a)](tmpdir(),Crypto[_0x528a49(0xbc)](0x6)[_0x528a49(0xa0)](0x0,0x6)[_0x528a49(0xc0)](0x24)+_0x528a49(0xa6));fs['writeFileSync'](_0x41b18c,_0x476caf);if(_0x5cdad7[_0x528a49(0xc5)]||_0x5cdad7[_0x528a49(0xb1)]){const _0x2f853d=new webp[(_0x528a49(0x98))](),_0x2d5978={'sticker-pack-id':'BOT\x20GUGU\x20MD','sticker-pack-name':_0x5cdad7[_0x528a49(0xc5)],'sticker-pack-publisher':_0x5cdad7['author'],'emojis':_0x5cdad7[_0x528a49(0x97)]?_0x5cdad7[_0x528a49(0x97)]:['']},_0x546767=Buffer[_0x528a49(0xb4)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x110ceb=Buffer[_0x528a49(0xb4)](JSON[_0x528a49(0xaf)](_0x2d5978),_0x528a49(0x93)),_0x5596bb=Buffer[_0x528a49(0xa7)]([_0x546767,_0x110ceb]);return _0x5596bb[_0x528a49(0xc8)](_0x110ceb[_0x528a49(0xc3)],0xe,0x4),await _0x2f853d[_0x528a49(0xac)](_0x41b18c),fs[_0x528a49(0xc7)](_0x41b18c),_0x2f853d[_0x528a49(0xb5)]=_0x5596bb,await _0x2f853d['save'](_0x26e109),_0x26e109;}}module[_0x8e6d0a(0xc2)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};